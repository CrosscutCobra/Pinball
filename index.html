<html>

<head>
    <style>
        .stage {
            background-color: lightblue;
            width: 300px;
            height: 400px;
        }

        .ball {
            background-color: blueviolet;
            width: 20px;
            height: 20px;
            border-radius: 10px;

            left: 140px;
            top: 90px;
            position: relative;
        }
    </style>

</head>

<body>Pinball
    <div class="stage">
        <div class="ball">
        </div>
    </div>

    <script>
        const stage = document.getElementsByClassName("stage")[0];
        const stageWidth = stage.computedStyleMap().get("width").value;
        const stageHeight = stage.computedStyleMap().get("height").value;

        const ball = document.getElementsByClassName("ball")[0];
        const ballWidth = ball.computedStyleMap().get("width").value;
        const ballHeight = ball.computedStyleMap().get("height").value;

        let xVelocity = 5;
        let yVelocity = 5;

        const render = (x, y) => {
            ball.style.setProperty("left", `${x}px`);
            ball.style.setProperty("top", `${y}px`);
        };

        const move = () => {
            const currentX = ball.computedStyleMap().get("left").value;
            const currentY = ball.computedStyleMap().get("top").value;

            const newX = currentX + xVelocity;
            const newY = currentY + yVelocity;

            if (newX >= stageWidth - ballWidth || newX <= 0) {
                xVelocity *= -1;
            }

            if (newY >= stageHeight - ballHeight || newY <= 0) {
                yVelocity *= -1;
            }

            render(newX, newY);
        };

        setInterval(move, 50);

    </script>

</body>

</html>